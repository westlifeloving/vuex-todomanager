{"ast":null,"code":"import axios from 'axios';\nconst state = {\n  todos: [{\n    id: 1,\n    title: 'Todo One'\n  }, {\n    id: 2,\n    title: 'Todo Two'\n  }]\n};\nconst getters = {\n  allTodos: state => state.todos\n};\nconst actions = {\n  async fetchTodos({\n    commit\n  }) {\n    const response = await axios.get('https://jsonplaceholder.typicode.com/todos');\n    commit('setTodos', response.data);\n  },\n\n  async addTodo({\n    commit\n  }, title) {\n    const response = await axios.post('https://jsonplaceholder.typicode.com/todos', {\n      title,\n      completed: false\n    });\n    commit('newTodo', response.data);\n  },\n\n  async deleteTodo({\n    commit\n  }, id) {\n    await axios.delete(`https://jsonplaceholder.typicode.com/todos/${id}`);\n    commit('removeTodo', id);\n  },\n\n  async filterTodos({\n    commit\n  }, e) {\n    const limit = parseInt(e.target.options[e.target.options.selectedIndex].innerText);\n    const response = await axios.get(`https://jsonplaceholder.typicode.com/todos?_limit=${limit}`);\n    commit('setTodos', response.data);\n  },\n\n  async updateTodo({\n    commit\n  }, updTodo) {\n    const response = await axios.put(`https://jsonplaceholder.typicode.com/todos/${updTodo.id}`, updTodo);\n    commit('updateTodo', response.data);\n  }\n\n};\nconst mutations = {\n  setTodos: (state, todos) => state.todos = todos,\n  newTodo: (state, todo) => state.todos.unshift(todo),\n  removeTodo: (state, id) => state.todos = state.todos.filter(todo => todo.id !== id),\n  updateTodo: (state, updTodo) => {\n    const index = state.todos.findIndex(todo => todo.id === updTodo.id);\n\n    if (index !== -1) {\n      state.todos.splice(index, 1, updTodo);\n    }\n  }\n};\nexport default {\n  state,\n  getters,\n  actions,\n  mutations\n};","map":{"version":3,"names":["axios","state","todos","id","title","getters","allTodos","actions","fetchTodos","commit","response","get","data","addTodo","post","completed","deleteTodo","delete","filterTodos","e","limit","parseInt","target","options","selectedIndex","innerText","updateTodo","updTodo","put","mutations","setTodos","newTodo","todo","unshift","removeTodo","filter","index","findIndex","splice"],"sources":["/Users/ksuser/Desktop/vuex-todomanager/src/store/modules/todos.js"],"sourcesContent":["import axios from 'axios';\n\nconst state = {\n    todos: [\n        {\n            id:1,\n            title: 'Todo One'\n        },\n        {\n            id:2,\n            title: 'Todo Two'\n        }\n    ]\n};\n\nconst getters = {\n    allTodos: state => state.todos\n};\n\nconst actions = {\n    async fetchTodos({ commit }) {\n        const response = await axios.get('https://jsonplaceholder.typicode.com/todos');\n\n        commit('setTodos',response.data);\n    },\n    async addTodo({ commit }, title) {\n        const response = await axios.post('https://jsonplaceholder.typicode.com/todos', { title,\n    completed: false });\n\n    commit('newTodo', response.data);\n    },\n    async deleteTodo({ commit }, id) {\n        await axios.delete(`https://jsonplaceholder.typicode.com/todos/${id}`);\n\n        commit('removeTodo', id);\n    },\n    async filterTodos({commit}, e) {\n        const limit = parseInt(e.target.options[e.target.options.selectedIndex].innerText);\n\n        const response = await axios.get(`https://jsonplaceholder.typicode.com/todos?_limit=${limit}`);\n\n        commit('setTodos', response.data);\n    },\n    async updateTodo ({ commit }, updTodo) {\n        const response = await axios.put(\n            `https://jsonplaceholder.typicode.com/todos/${updTodo.id}`,\n            updTodo\n        );\n        \n\n        commit('updateTodo', response.data );\n    }\n};\n\nconst mutations = {\n    setTodos: (state, todos) => (state.todos = todos),\n    newTodo: (state, todo) => state.todos.unshift(todo),\n    removeTodo: (state, id) => (state.todos = state.todos.filter(todo => todo.id !== id)),\n    updateTodo: (state, updTodo) => {\n        const index = state.todos.findIndex(todo => todo.id === updTodo.id);\n        if(index !== -1) {\n            state.todos.splice(index, 1, updTodo);\n        }\n    }\n};\n\nexport default {\n    state,\n    getters,\n    actions,\n    mutations,\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}